import{_ as s,c as a,o as n,a as l}from"./app.cc636560.js";const h=JSON.parse('{"title":"x-init","description":"","frontmatter":{},"headers":[{"level":2,"title":"自动执行 init() 方法","slug":"自动执行-init-方法","link":"#自动执行-init-方法","children":[]},{"level":2,"title":"独立的 x-init","slug":"独立的-x-init","link":"#独立的-x-init","children":[]},{"level":2,"title":"$nextTick","slug":"nexttick","link":"#nexttick","children":[]}],"relativePath":"guide/x-init.md","lastUpdated":1672038555000}'),o={name:"guide/x-init.md"},p=l(`<h1 id="x-init" tabindex="-1">x-init <a class="header-anchor" href="#x-init" aria-hidden="true">#</a></h1><p><code>x-init</code> 指令允许挂载到 Alpine 中任何元素的初始化阶段。</p><p>在 DOM 更新前，将在控制台中输出 &quot;Init&quot; 。</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">x-init</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">console.log(&#39;Init&#39;)</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>考虑另一个示例，其中 <code>x-init</code> 用于获取一些 JSON 并将其存储在 <code>x-data</code> 处理组件之前。</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">x-data</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{todo: {}}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">x-init</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">todo = await (await fetch(&#39;https://jsonplaceholder.typicode.com/todos/10&#39;)).json();</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">x-text</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\`Todo ID: \${todo.id}\`</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="自动执行-init-方法" tabindex="-1">自动执行 <code>init()</code> 方法 <a class="header-anchor" href="#自动执行-init-方法" aria-hidden="true">#</a></h2><p>如果一个组件的 <code>x-data</code> 对象包含一个 <code>init()</code> 方法，它会被自动调用。例如：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">x-data</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#C3E88D;">    init() {</span></span>
<span class="line"><span style="color:#C3E88D;">        console.log(&#39;I am initialized&#39;)</span></span>
<span class="line"><span style="color:#C3E88D;">    }</span></span>
<span class="line"><span style="color:#C3E88D;">}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>这也同样适用于 <code>Alpine.data()</code> 语法注册组件的情况。</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">Alpine.data(&#39;dropdown&#39;, () =&gt; ({</span></span>
<span class="line"><span style="color:#A6ACCD;">    init() {</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;I am initialized.&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    },</span></span>
<span class="line"><span style="color:#A6ACCD;">}))</span></span>
<span class="line"></span></code></pre></div><h2 id="独立的-x-init" tabindex="-1">独立的 <code>x-init</code> <a class="header-anchor" href="#独立的-x-init" aria-hidden="true">#</a></h2><p>可以添加 <code>x-init</code> 到 <code>x-data</code> 指令的 HTML 块内部或外部的任何元素。例如：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">x-init</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">console.log(&#39;Init&#39;)</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>也可以将 <code>x-init</code> 指令单独于 <code>x-data</code> 之外的内部任意元素。</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">x-data</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">x-init</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">console.log(&#39;Init too&#39;)</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="nexttick" tabindex="-1"><code>$nextTick</code> <a class="header-anchor" href="#nexttick" aria-hidden="true">#</a></h2><p>有时想等到 Alpine 完成渲染之后再执行一些代码，通过使用 Alpine 的 <code>$nextTick</code> 可以做到这一点。</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">x-init</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">$nextTick(() =&gt; { ... })</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div>`,19),t=[p];function e(c,i,r,D,F,d){return n(),a("div",null,t)}const g=s(o,[["render",e]]);export{h as __pageData,g as default};
